!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t():e.rangepicker=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){function t(e,t){this.element=e,this.rangeItems=[],this.constants=m,t&&"object"==typeof t&&(this.options=v.helpers.extendDefaults(u,t)),this.selectedValue=this.options.range.value,this.element.classList.add(this.constants.classes.rangepicker),v.onInitialize=v.onInitialize.bind(this),v.renderRangeValue=v.renderRangeValue.bind(this),v.validateOptions.call(this),v.setRangePicker.call(this),v.setRangeItemSize=v.setRangeItemSize.call(this),v.renderRangeItems.call(this),v.renderRangeValue(),v.handleTouchSelect.call(this),v.onInitialize()}function i(){var e=this.options;if(!e.range.hasOwnProperty("size"))throw new Error("range size undefined.");if(0===e.range.size)throw new Error("invalid range size value.");if(!e.range.hasOwnProperty("step"))throw new Error("range step undefined.");if(!e.range.hasOwnProperty("value"))throw new Error("range value undefined.")}function n(){var e=this.options;if(e.hasOwnProperty("onInitialize")){if("function"!=typeof e.onInitialize)throw new Error("onInitialize is not a function");this.element.childElementCount===e.range.size?e.onInitialize():window.requestAnimationFrame(v.didComponentRender)}}function s(){switch(this.options.orientation){case"horizontal":this.options.itemWidth=this.element.clientWidth/this.options.range.size,this.options.hasOwnProperty("itemHeight")||(this.options.itemHeight=this.options.itemWidth);break;case"vertical":this.options.itemHeight=this.element.clientHeight/this.options.range.size,this.options.hasOwnProperty("itemWidth")||(this.options.itemWidth=this.options.itemHeight)}}function a(){switch(this.options.disabled===!0&&this.element.classList.add(this.constants.classes.rangepickerDisabled),this.options.orientation){case"horizontal":this.element.style.width="100%",this.element.style.height="auto";break;case"vertical":this.element.style.height="100%",this.element.style.width="auto"}}function o(){var e,t;for(e=0;e<this.options.range.size;e++){switch(t=document.createElement("div"),t.setAttribute("data-value",(e+1)*this.options.range.step),t.classList.add(this.constants.classes.rangeItem),t.style.width=this.options.itemWidth+"px",t.style.height=this.options.itemHeight+"px",this.options.orientation){case"horizontal":t.style.display="inline-block",this.element.appendChild(t);break;case"vertical":t.style.display="block",this.element.hasChildNodes()?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}this.rangeItems.push(t),v.handleSelect.call(this,t)}}function r(){var e,t,i=this.options.range,n=parseInt(i.value/i.step)-1;for(e=0;e<this.rangeItems.length;e++)t=this.rangeItems[e],e<=n?t.classList.add(this.constants.classes.rangeItemSelected):t.classList.remove(this.constants.classes.rangeItemSelected)}function l(e){e.addEventListener("mousedown",function(e){var t=parseInt(e.target.getAttribute("data-value")),i=this.options.range;t===i.step&&i.value===i.step?this.setValue(0):t!==i.value&&this.setValue(t)}.bind(this))}function h(){var e,t=this.options.range.value;this.element.addEventListener("touchmove",function(i){e=document.elementFromPoint(i.touches[0].clientX,i.touches[0].clientY),e&&e.classList.contains(this.constants.classes.rangeItem)&&(t=parseInt(e.getAttribute("data-value")),this.options.range.value!==t&&this.setValue(t))}.bind(this))}function c(e){return new CustomEvent(m.events.onChange,{detail:{value:e}})}function d(e,t){var i;for(i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function p(e,i){return new t(e,i)}var u={range:{},orientation:"horizontal",disabled:!1},g="rp",m={classes:{rangepicker:"rangepicker",rangepickerDisabled:"rangepicker--disabled",rangeItem:"rangepicker__item",rangeItemSelected:"rangepicker__item--selected"},events:{initialize:g+".initialize",onChange:g+".change"}};t.prototype.setValue=function(e){var t=this.options.range;t.value=e,v.renderRangeValue(),this.element.dispatchEvent(v.getChangeEvent(t.value))},t.prototype.getValue=function(){return this.options.range.value},t.prototype.enable=function(){this.options.disabled===!0&&(this.options.disabled=!1,this.element.classList.remove(this.constants.classes.rangepickerDisabled))},t.prototype.disable=function(){this.options.disabled===!1&&(this.options.disabled=!0,this.element.classList.add(this.constants.classes.rangepickerDisabled))},t.prototype.next=function(){var e=this.options.range;e.step*e.size!==e.value&&(e.value+=e.step,v.renderRangeValue(),this.element.dispatchEvent(v.getChangeEvent(e.value)))},t.prototype.prev=function(){var e=this.options.range;0!==e.value&&(e.value-=e.step,v.renderRangeValue(),this.element.dispatchEvent(v.getChangeEvent(e.value)))},t.prototype.on=function(e,t){this.element.addEventListener(e,function(e){t(e.detail.value)})};var v={validateOptions:i,onInitialize:n,setRangeItemSize:s,setRangePicker:a,renderRangeItems:o,renderRangeValue:r,handleSelect:l,handleTouchSelect:h,getChangeEvent:c,helpers:{extendDefaults:d}};return p});