!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t():e.rangepicker=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){function t(e,t){this.element=e,this.rangeItems=[],this.constants=u,t&&"object"==typeof t&&(this.options=g.helpers.extendDefaults(d,t)),this.selectedValue=this.options.range.value,this.element.classList.add(this.constants.classes.rangepicker),g.renderRangeValue=g.renderRangeValue.bind(this),g.setRangePicker.call(this),g.setRangeItemSize=g.setRangeItemSize.call(this),g.renderRangeItems.call(this),g.renderRangeValue(),g.handleTouchSelect.call(this)}function s(){switch(this.options.orientation){case"horizontal":this.options.itemWidth=this.element.clientWidth/this.options.range.size,this.options.hasOwnProperty("itemHeight")||(this.options.itemHeight=this.options.itemWidth);break;case"vertical":this.options.itemHeight=this.element.clientHeight/this.options.range.size,this.options.hasOwnProperty("itemWidth")||(this.options.itemWidth=this.options.itemHeight)}}function n(){switch(this.options.disabled===!0&&this.element.classList.add(this.constants.classes.rangepickerDisabled),this.options.orientation){case"horizontal":this.element.style.width="100%",this.element.style.height="auto";break;case"vertical":this.element.style.height="100%",this.element.style.width="auto"}}function i(){var e,t;for(e=0;e<this.options.range.size;e++){switch(t=document.createElement("div"),t.setAttribute("data-value",(e+1)*this.options.range.step),t.classList.add(this.constants.classes.rangeItem),t.style.width=this.options.itemWidth+"px",t.style.height=this.options.itemHeight+"px",this.options.orientation){case"horizontal":t.style.display="inline-block",this.element.appendChild(t);break;case"vertical":t.style.display="block",this.element.hasChildNodes()?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}this.rangeItems.push(t),g.handleSelect.call(this,t)}}function a(){var e,t,s=this.options.range,n=parseInt(s.value/s.step)-1;for(e=0;e<this.rangeItems.length;e++)t=this.rangeItems[e],e<=n?t.classList.add(this.constants.classes.rangeItemSelected):t.classList.remove(this.constants.classes.rangeItemSelected)}function o(e){e.addEventListener("mousedown",function(e){var t=parseInt(e.target.getAttribute("data-value")),s=this.options.range;t===s.step&&s.value===s.step?this.setValue(0):t!==s.value&&this.setValue(t)}.bind(this))}function l(){var e,t=this.options.range.value;this.element.addEventListener("touchmove",function(s){e=document.elementFromPoint(s.touches[0].clientX,s.touches[0].clientY),e&&e.classList.contains(this.constants.classes.rangeItem)&&(t=parseInt(e.getAttribute("data-value")),this.options.range.value!==t&&this.setValue(t))}.bind(this))}function h(e){return new CustomEvent(u.events.onChange,{detail:{value:e}})}function r(e,t){var s;for(s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return e}function c(e,s){return new t(e,s)}var d={range:{size:10,step:10,value:40},orientation:"horizontal",disabled:!1},p="rp",u={classes:{rangepicker:"rangepicker",rangepickerDisabled:"rangepicker--disabled",rangeItem:"rangepicker__item",rangeItemSelected:"rangepicker__item--selected"},events:{onChange:p+".change"}};t.prototype.setValue=function(e){var t=this.options.range;t.value=e,g.renderRangeValue(),this.element.dispatchEvent(g.getChangeEvent(t.value))},t.prototype.getValue=function(){return this.options.range.value},t.prototype.enable=function(){this.options.disabled===!0&&(this.options.disabled=!1,this.element.classList.remove(this.constants.classes.rangepickerDisabled))},t.prototype.disable=function(){this.options.disabled===!1&&(this.options.disabled=!0,this.element.classList.add(this.constants.classes.rangepickerDisabled))},t.prototype.next=function(){var e=this.options.range;e.step*e.size!==e.value&&(e.value+=e.step,g.renderRangeValue(),this.element.dispatchEvent(g.getChangeEvent(e.value)))},t.prototype.prev=function(){var e=this.options.range;0!==e.value&&(e.value-=e.step,g.renderRangeValue(),this.element.dispatchEvent(g.getChangeEvent(e.value)))},t.prototype.on=function(e,t){this.element.addEventListener(e,function(e){t(e.detail.value)})};var g={setRangeItemSize:s,setRangePicker:n,renderRangeItems:i,renderRangeValue:a,handleSelect:o,handleTouchSelect:l,getChangeEvent:h,helpers:{extendDefaults:r}};return c});