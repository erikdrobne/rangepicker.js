!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t():e.rangepicker=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){function t(e,t){this.element=e,this.rangeItems=[],this.constants=u,t&&"object"==typeof t&&(this.options=d.helpers.extendDefaults(h,t)),this.selectedValue=this.options.range.value,this.element.classList.add(this.constants.classes.rangepicker),d.renderRangeValue=d.renderRangeValue.bind(this),d.renderRangeItems.call(this),d.renderRangeValue(),d.handleTouchSelect.call(this)}function n(){var e,t,n=this.element.clientWidth/this.options.range.size;for(this.options.hasOwnProperty("height")?this.element.style.height=this.options.height+"px":this.element.style.height=n+"px",e=0;e<this.options.range.size;e++)t=document.createElement("div"),t.setAttribute("data-value",(e+1)*this.options.range.step),t.classList.add(this.constants.classes.rangeItem),t.style.display="inline-block",t.style.width=n+"px",t.style.height=this.element.clientHeight+"px",this.rangeItems.push(t),d.handleSelect.call(this,t),this.element.appendChild(t)}function s(){var e,t,n=this.options.range,s=parseInt(n.value/n.step)-1;for(e=0;e<this.rangeItems.length;e++)t=this.rangeItems[e],e<=s?t.classList.add(this.constants.classes.rangeItemSelected):t.classList.remove(this.constants.classes.rangeItemSelected)}function a(e){e.addEventListener("mousedown",function(e){var t=parseInt(e.target.getAttribute("data-value")),n=this.options.range;t===n.step&&n.value===n.step?this.setValue(0):t!==n.value&&this.setValue(t)}.bind(this))}function i(){var e,t=this.options.range.value;this.element.addEventListener("touchmove",function(n){e=document.elementFromPoint(n.touches[0].clientX,n.touches[0].clientY),e&&e.classList.contains(this.constants.classes.rangeItem)&&(t=parseInt(e.getAttribute("data-value")),this.options.range.value!==t&&this.setValue(t))}.bind(this))}function l(e){return new CustomEvent(u.events.onChange,{detail:{value:e}})}function r(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function o(e,n){return new t(e,n)}var h={range:{size:10,step:10,value:40}},c="rp",u={classes:{rangepicker:"rangepicker",rangeItem:"rangepicker__item",rangeItemSelected:"rangepicker__item--selected"},events:{onChange:c+".change"}};t.prototype.setValue=function(e){var t=this.options.range;t.value=e,d.renderRangeValue(),this.element.dispatchEvent(d.getChangeEvent(t.value))},t.prototype.on=function(e,t){this.element.addEventListener(e,function(e){t(e.detail.value)})};var d={renderRangeItems:n,renderRangeValue:s,handleSelect:a,handleTouchSelect:i,getChangeEvent:l,helpers:{extendDefaults:r}};return o});